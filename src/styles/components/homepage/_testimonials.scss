@use "../../utils/functions" as *;
@use "../../utils/mixins" as *;

/* Testimonials Section*/
.testimonials {
  padding: fluid(64px, 120px) fluid(20px, 48px);
  background-color: #ffffff;

  .container {
    // max-width: 1120px;
    margin-inline: auto;
  }

  /* Header */
  .header {
    margin-bottom: fluid(40px, 72px);

    .subtitle {
      color: #C8700B;
      font-weight: 500;
      font-size: fluid(11px, 13px);
      line-height: 1.8rem;
      text-transform: uppercase;
      margin-bottom: 2rem;
    }

    h2 {
      font-size: fluid(28px, 44px);
      font-weight: 500;
      line-height: 3.125rem;
      color: #161C28;
      margin-bottom: fluid(28px, 40px);
    }

    .content {
      display: flex;
      flex-direction: column;
      gap: fluid(32px, 48px);

      @media (min-width: 768px) {
        flex-direction: row;
        justify-content: space-between;
        align-items: flex-end;
      }

      /* Quote block */
      .quote-section {
        max-width: 75rem;

        p {
          font-size: fluid(16px, 18px);
          font-weight: 500;
          line-height: 2;
          font-style: italic;
          color: #6f758b;
        }

        .author {
          margin-top: fluid(20px, 28px);
          display: flex;
          gap: 1rem;
          align-items: center;

          img {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            object-fit: cover;
          }

          h4 {
            font-weight: 500;
            color: #333333;
          }

          p {
            font-size: 0.75rem;
            font-weight: 300;
            line-height: 1.5rem;
            color: #6F758B;
          }
        }
      }

      /* Navigation */
      .nav-buttons {
        @include flex-center(row, flex-start, center);
        gap: 1rem;

        button {
          width: 44px;
          height: 44px;
          border-radius: 50%;
          border: 1px solid #e5e7eb;
          background: #fff;
          cursor: pointer;
          transition: all 0.3s ease;

          &:hover {
            background: #f9fafb;
          }

          &.next {
            background: #0f172a;
            color: white;
            border: none;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);

            &:hover {
              background: #020617;
            }
          }
        }
      }
    }
  }

  /* Map & Avatars */
  .map-section {
    position: relative;
    height: fluid(320px, 460px);
    margin-top: fluid(64px, 96px);
    @include flex-center;

    /* World map layer */
    .map-bg {
      position: absolute;
      inset: 0;
      z-index: 0;
      opacity: 0.9;

      img {
        width: 100%;
        height: 100%;
        object-fit: contain;
      }
    }

    /* Decorative avatars */
    .avatar {
      position: absolute;
      border-radius: 50%;
      overflow: hidden;
      z-index: 1;

      img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      &.a1 { top: 18%; left: 22%; width: 48px; height: 48px; }
      &.a2 { top: 26%; right: 30%; width: 56px; height: 56px; }
      &.a3 { bottom: 20%; left: 32%; width: 36px; height: 36px; }
      &.a4 { bottom: 28%; right: 24%; width: 44px; height: 44px; }
    }

    /* Center Card */
    .center-card {
      position: relative;
      z-index: 10;
      background: white;
      padding: fluid(20px, 28px);
      border-radius: 18px;
      width: min(90%, 340px);
      text-align: center;
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.2);

      .avatar-top {
        position: absolute;
        top: -26px;
        left: 50%;
        transform: translateX(-50%);
        width: 52px;
        height: 52px;
        border-radius: 50%;
        border: 4px solid #fff;
        overflow: hidden;
        box-shadow: 0 5px 12px rgba(0, 0, 0, 0.15);
      }

      h4 {
        margin-top: fluid(28px, 36px);
        font-weight: 700;
        color: #0f172a;
      }

      p {
        margin-top: 0.5rem;
        font-size: fluid(14px, 16px);
        font-style: italic;
        color: #6b7280;
      }
    }
  }

  /* Pagination */
  .pagination {
    margin-top: fluid(28px, 40px);
    @include flex-center;
    gap: 0.5rem;

    button {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      border: none;
      background: #d1d5db;
      transition: all 0.3s ease;

      &.active {
        width: 16px;
        background: #d4af37;
      }
    }
  }
}
